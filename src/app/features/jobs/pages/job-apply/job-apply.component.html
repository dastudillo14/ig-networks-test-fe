<div class="container mx-auto p-4">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white p-6 rounded-lg shadow">
      <button class="cursor-pointer" (click)="goBack()">
        <i class="pi pi-arrow-left"></i>
      </button>
      <h1 class="text-2xl font-bold mb-6">Apply to Job</h1>

      <form
        [formGroup]="formGroup"
        (ngSubmit)="onSubmit()"
        class="flex flex-col gap-4"
      >
        <!-- Resume Link -->
        <div class="form-group">
          <label
            for="resumeLink"
            class="block text-sm font-medium text-gray-700 mb-1"
            >Resume Link</label
          >
          <input
            id="resume_link"
            type="url"
            pInputText
            formControlName="resume_link"
            class="w-full"
            [ngClass]="{
              'ng-invalid':
                formGroup.get('resume_link')?.invalid &&
                formGroup.get('resume_link')?.touched
            }"
            placeholder="Enter your resume link (LinkedIn, portfolio, etc.)"
            required
          />
          <small
            class="text-red-500 block mt-1"
            *ngIf="
              formGroup.get('resume_link')?.invalid &&
              formGroup.get('resume_link')?.touched
            "
          >
            <span *ngIf="formGroup.get('resume_link')?.errors?.['required']"
              >Resume link is required</span
            >
            <span *ngIf="formGroup.get('resume_link')?.errors?.['pattern']"
              >Resume link is not valid</span
            >
          </small>
        </div>

        <!-- Experience Years -->
        <div class="form-group">
          <label
            for="experience_years"
            class="block text-sm font-medium text-gray-700 mb-1"
            >Years of Experience</label
          >
          <p-dropdown
            id="experience_years"
            [options]="experienceOptions"
            formControlName="experience_years"
            placeholder="Select years of experience"
            styleClass="w-full"
          ></p-dropdown>
        </div>

        <!-- Experience Detail -->
        <div class="form-group">
          <label
            for="experience_detail"
            class="block text-sm font-medium text-gray-700 mb-1"
            >Experience Details</label
          >
          <p-editor
            id="experience_detail"
            formControlName="experience_detail"
            [style]="{ height: '200px' }"
            
          ></p-editor>
        </div>

        <!-- Submit Button -->
        <p-button
          type="submit"
          label="Submit Application"
          icon="pi pi-send"
          [loading]="loading"
          [disabled]="loading || formGroup.invalid"
          styleClass="w-full"
        ></p-button>
      </form>
    </div>
  </div>
</div>
<p-toast />
