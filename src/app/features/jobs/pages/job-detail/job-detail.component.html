<div class="container mx-auto p-4">
  @if (job && !jobNotFound) {
  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="bg-white p-6 rounded-lg shadow mb-6">
      <div class="flex justify-between items-start mb-4">
        <div>
          <button class="cursor-pointer" (click)="goBack()">
            <i class="pi pi-arrow-left"></i>
          </button>
          <h1 class="text-3xl font-bold mb-2">{{ job.title }}</h1>
          <p class="text-xl text-gray-600 mb-4">Empresa XYZ</p>
          <div class="flex gap-2 mb-4">
            <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full">{{
              job.location
            }}</span>
            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full"
              >Tiempo Completo</span
            >
            <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full"
              >$3,000 - $4,000</span
            >
          </div>
        </div>
        <p-button
          (onClick)="applyJob()"
          label="Aplicar Ahora"
          icon="pi pi-send"
          styleClass="p-button-primary"
        >
        </p-button>
      </div>
      <div class="flex gap-4 text-gray-600">
        <div class="flex items-center">
          <i class="pi pi-calendar mr-2"></i>
          <span> {{ job.created_at | timeAgo }} </span>
        </div>
        <div class="flex items-center">
          <i class="pi pi-users mr-2"></i>
          <span>50 aplicaciones</span>
        </div>
        <div class="flex items-center">
          <i class="pi pi-map-marker mr-2"></i>
          <span>{{ job.location }}</span>
        </div>
      </div>
    </div>

    <!-- Content -->
    <div class="bg-white p-6 rounded-lg shadow">
      <div class="prose max-w-none">
        <div class="whitespace-pre-wrap break-words" [innerHTML]="job.description | html"></div>
      </div>
    </div>
  </div>
  }

  <div *ngIf="loading" class="flex justify-center items-center py-8">
    <p-progressSpinner
      styleClass="w-8 h-8"
      strokeWidth="2"
      animationDuration=".5s"
    ></p-progressSpinner>
  </div>
</div>
@if (jobNotFound) {
  <div class="flex justify-center items-center py-8">
    <app-not-found></app-not-found>
  </div>
}